<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Grid Animation</title>
  <link rel="stylesheet" href="style.css">   
</head>
<body>
  <div class="grid" id="grid"></div>
  <script>
    let grid = document.getElementById("grid");
    for (let i = 0; i < 100; i++){
      let cell = document.createElement("div");
      cell.classList.add("grid-cell");
      grid.appendChild(cell);
    }

    // Mouse event
    grid.addEventListener("mousemove", (e) => {
      let cells = grid.querySelectorAll(".grid-cell");
      let rect = grid.getBoundingClientRect();
      let mouseX = e.clientX - rect.left;
      let mouseY = e.clientY - rect.top;

      cells.forEach((cell) => {
        let cellRect = cell.getBoundingClientRect();
        let cellX = cellRect.left - rect.left + cellRect.width/2;
        let cellY = cellRect.top - rect.top + cellRect.height/2;
        let distance = Math.hypot(mouseX - cellX, mouseY - cellY);

        if (distance < 150){
          cell.classList.add("active");
          let angle = Math.atan2(mouseY - cellY, mouseX - cellX) * 180 / Math.PI;
          cell.style.transform = `rotate(${angle}deg)`
        } else {
          cell.classList.remove("active");
          cell.style.transform = "";
        }
      })

    })

    // Reset on mouse leave
    grid.addEventListener("mouseleave", (e) => {
      let cells = grid.querySelectorAll(".grid-cell");
      cells.forEach(cell => {
        cell.classList.remove("active");
        cell.style.transform = "";
      })
    })
  </script>
</body>
</html>